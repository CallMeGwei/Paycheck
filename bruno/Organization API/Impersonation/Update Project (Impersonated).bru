meta {
  name: Update Project (Impersonated)
  type: http
  seq: 4
}

put {
  url: {{base_url}}/orgs/{{org_id}}/projects/{{project_id}}
  body: json
  auth: bearer
}

headers {
  X-On-Behalf-Of: {{user_id}}
}

auth:bearer {
  token: {{operator_api_key}}
}

body:json {
  {
    "name": "Updated App Name",
    "license_key_prefix": "MYAPP",
    "redirect_url": "https://myapp.com/activated",
    "email_from": "support@myapp.com",
    "email_enabled": true,
    "email_webhook_url": null
  }
}

docs {
  Update a project using operator impersonation.

  Requirements:
  - Operator must have admin or owner role
  - X-On-Behalf-Of must be a user_id of a member with write access to the project

  Fields (all optional - only include fields you want to update):
  - name: Project display name
  - license_key_prefix: Prefix for activation codes (e.g., "MYAPP" -> "MYAPP-XXXX-XXXX")
  - redirect_url: Post-payment redirect URL (set to null to use Paycheck success page)
  - email_from: "From" address for activation emails (REQUIRES org resend_api_key, set to null to clear)
  - email_enabled: Enable/disable email delivery for this project
  - email_webhook_url: Webhook URL for DIY email delivery (set to null to disable)

  Redirect URL:
  - After payment, users are redirected to this URL with ?code=XXX&project_id=XXX&status=success
  - Set to null to use Paycheck's hosted success page
}
